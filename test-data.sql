-- =============================================
-- ТЕСТОВЫЕ ДАННЫЕ ДЛЯ ПРОЕКТА BEEP
-- =============================================

-- Очистка существующих данных (опционально)
-- DELETE FROM reviews;
-- DELETE FROM appointments;
-- DELETE FROM master_schedule;
-- DELETE FROM masters;
-- DELETE FROM pricing_rules;
-- DELETE FROM services;
-- DELETE FROM categories;
-- DELETE FROM cars;
-- DELETE FROM users;

-- =============================================
-- ТЕСТОВЫЕ ПОЛЬЗОВАТЕЛИ
-- =============================================
INSERT INTO users (name, email, phone, password_hash, created_at, updated_at) VALUES
('Александр Иванов', 'alex.ivanov@test.com', '+7 (900) 111-1111', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NOW(), NOW()),
('Мария Петрова', 'maria.petrova@test.com', '+7 (900) 222-2222', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NOW(), NOW()),
('Дмитрий Сидоров', 'dmitry.sidorov@test.com', '+7 (900) 333-3333', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NOW(), NOW()),
('Елена Козлова', 'elena.kozlova@test.com', '+7 (900) 444-4444', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NOW(), NOW()),
('Сергей Волков', 'sergey.volkov@test.com', '+7 (900) 555-5555', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NOW(), NOW()),
('Анна Смирнова', 'anna.smirnova@test.com', '+7 (900) 666-6666', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NOW(), NOW()),
('Михаил Кузнецов', 'mikhail.kuznetsov@test.com', '+7 (900) 777-7777', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NOW(), NOW()),
('Ольга Морозова', 'olga.morozova@test.com', '+7 (900) 888-8888', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NOW(), NOW()),
('Владимир Новиков', 'vladimir.novikov@test.com', '+7 (900) 999-9999', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NOW(), NOW()),
('Татьяна Федорова', 'tatyana.fedorova@test.com', '+7 (900) 000-0000', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NOW(), NOW())
ON CONFLICT (email) DO NOTHING;

-- =============================================
-- КАТЕГОРИИ УСЛУГ (10 категорий)
-- =============================================
INSERT INTO categories (name, description) VALUES
('Техническое обслуживание', 'Регулярное ТО автомобиля'),
('Ремонт двигателя', 'Ремонт и диагностика двигателя'),
('Тормозная система', 'Ремонт и обслуживание тормозов'),
('Подвеска', 'Ремонт и замена элементов подвески'),
('Электрика', 'Ремонт электрооборудования'),
('Шиномонтаж', 'Работы с шинами и дисками'),
('Кузовные работы', 'Покраска и ремонт кузова'),
('Мойка и детализация', 'Мойка и полировка автомобиля'),
('Диагностика', 'Компьютерная диагностика'),
('Тюнинг', 'Тюнинговые работы и доработки')
ON CONFLICT DO NOTHING;

-- =============================================
-- ВИДЫ АВТОМОБИЛЕЙ (10+ марок)
-- =============================================
INSERT INTO cars (brand, model, year, type) VALUES
-- Российские марки
('Lada', 'Granta', 2020, 'Standard'),
('Lada', 'Vesta', 2021, 'Standard'),
('Lada', 'Niva', 2019, 'Standard'),
('UAZ', 'Patriot', 2020, 'Standard'),
('UAZ', 'Hunter', 2019, 'Standard'),

-- Европейские марки
('Volkswagen', 'Polo', 2020, 'Standard'),
('Volkswagen', 'Golf', 2021, 'Standard'),
('Volkswagen', 'Passat', 2022, 'Premium'),
('BMW', '3 Series', 2021, 'Premium'),
('BMW', 'X5', 2022, 'Premium'),
('Mercedes', 'C-Class', 2021, 'Premium'),
('Mercedes', 'E-Class', 2022, 'Premium'),
('Audi', 'A4', 2021, 'Premium'),
('Audi', 'Q5', 2022, 'Premium'),

-- Японские марки
('Toyota', 'Camry', 2021, 'Standard'),
('Toyota', 'RAV4', 2022, 'Premium'),
('Honda', 'Civic', 2020, 'Standard'),
('Honda', 'CR-V', 2021, 'Premium'),
('Nissan', 'Qashqai', 2021, 'Standard'),
('Nissan', 'X-Trail', 2022, 'Premium'),

-- Корейские марки
('Hyundai', 'Solaris', 2020, 'Standard'),
('Hyundai', 'Tucson', 2021, 'Premium'),
('Kia', 'Rio', 2020, 'Standard'),
('Kia', 'Sportage', 2021, 'Premium'),

-- Американские марки
('Ford', 'Focus', 2020, 'Standard'),
('Ford', 'Kuga', 2021, 'Premium'),
('Chevrolet', 'Cruze', 2019, 'Standard'),
('Chevrolet', 'Equinox', 2021, 'Premium')
ON CONFLICT DO NOTHING;

-- =============================================
-- УСЛУГИ (10+ услуг по категориям)
-- =============================================
INSERT INTO services (category_id, name, description, base_price, min_price, max_price, duration_minutes) VALUES
-- Техническое обслуживание
(1, 'Замена масла двигателя', 'Замена моторного масла и фильтра', 2000, 1500, 3000, 60),
(1, 'Замена воздушного фильтра', 'Замена воздушного фильтра двигателя', 800, 500, 1200, 30),
(1, 'Замена свечей зажигания', 'Замена свечей зажигания', 1500, 1000, 2500, 45),
(1, 'Замена антифриза', 'Замена охлаждающей жидкости', 1200, 800, 2000, 45),

-- Ремонт двигателя
(2, 'Диагностика двигателя', 'Компьютерная диагностика двигателя', 2500, 2000, 4000, 90),
(2, 'Ремонт ГРМ', 'Замена ремня ГРМ и роликов', 8000, 6000, 12000, 240),
(2, 'Замена помпы', 'Замена водяного насоса', 4000, 3000, 6000, 120),
(2, 'Ремонт турбины', 'Ремонт турбокомпрессора', 15000, 10000, 25000, 360),

-- Тормозная система
(3, 'Замена тормозных колодок', 'Замена передних/задних колодок', 3000, 2000, 5000, 90),
(3, 'Замена тормозных дисков', 'Замена тормозных дисков', 5000, 3500, 8000, 120),
(3, 'Замена тормозной жидкости', 'Замена жидкости в тормозной системе', 1500, 1000, 2500, 60),
(3, 'Ремонт суппортов', 'Ремонт тормозных суппортов', 4000, 3000, 6000, 120),

-- Подвеска
(4, 'Замена амортизаторов', 'Замена передних/задних амортизаторов', 6000, 4000, 10000, 180),
(4, 'Замена стоек стабилизатора', 'Замена стоек стабилизатора', 2000, 1500, 3500, 60),
(4, 'Замена шаровых опор', 'Замена шаровых опор', 3000, 2000, 5000, 90),
(4, 'Развал-схождение', 'Регулировка углов установки колес', 1500, 1000, 2500, 60),

-- Электрика
(5, 'Замена аккумулятора', 'Установка нового аккумулятора', 2000, 1500, 3000, 30),
(5, 'Ремонт генератора', 'Замена и ремонт генератора', 6000, 4000, 10000, 150),
(5, 'Ремонт стартера', 'Замена и ремонт стартера', 4000, 3000, 7000, 120),
(5, 'Установка сигнализации', 'Установка автосигнализации', 8000, 5000, 12000, 180),

-- Шиномонтаж
(6, 'Замена шин', 'Сезонная замена шин', 4000, 3000, 6000, 90),
(6, 'Балансировка колес', 'Балансировка всех колес', 2000, 1500, 3000, 60),
(6, 'Ремонт прокола', 'Ремонт прокола шины', 800, 500, 1500, 30),
(6, 'Правка дисков', 'Правка литых дисков', 4000, 3000, 6000, 120),

-- Кузовные работы
(7, 'Покраска бампера', 'Покраска переднего/заднего бампера', 8000, 5000, 12000, 240),
(7, 'Покраска двери', 'Покраска одной двери', 6000, 4000, 10000, 180),
(7, 'Удаление вмятин', 'Восстановление геометрии кузова', 3000, 2000, 5000, 120),
(7, 'Полировка кузова', 'Полная полировка автомобиля', 5000, 3000, 8000, 180),

-- Мойка и детализация
(8, 'Полная мойка', 'Мойка кузова и салона', 1000, 700, 1500, 60),
(8, 'Мойка с воском', 'Мойка с защитным покрытием', 1500, 1000, 2500, 90),
(8, 'Детализация авто', 'Полная детализация автомобиля', 8000, 5000, 12000, 300),
(8, 'Химчистка салона', 'Полная химчистка салона', 3000, 2000, 5000, 120),

-- Диагностика
(9, 'Компьютерная диагностика', 'Полная диагностика всех систем', 2000, 1500, 3500, 90),
(9, 'Диагностика подвески', 'Проверка состояния подвески', 1500, 1000, 2500, 60),
(9, 'Диагностика кондиционера', 'Проверка системы кондиционирования', 1000, 700, 1500, 45),
(9, 'Диагностика АКПП', 'Диагностика автоматической коробки', 2500, 2000, 4000, 90),

-- Тюнинг
(10, 'Установка спойлера', 'Установка и покраска спойлера', 10000, 7000, 15000, 240),
(10, 'Наклейка винила', 'Дизайн и нанесение виниловой пленки', 20000, 15000, 30000, 360),
(10, 'Установка обвеса', 'Установка спортивного обвеса', 15000, 10000, 25000, 300),
(10, 'Тонировка стекол', 'Тонировка всех стекол', 5000, 3000, 8000, 180)
ON CONFLICT DO NOTHING;

-- =============================================
-- МАСТЕРА (10+ мастеров)
-- =============================================
INSERT INTO masters (name, email, phone, specialization, rating, photo_url, location_lat, location_lng, address, created_at, updated_at) VALUES
('Иван Петров', 'ivan.petrov@beep.com', '+7 (900) 111-0001', 'Механик, ТО', 4.8, '', 55.7558, 37.6173, 'Москва, ул. Тверская, 10', NOW(), NOW()),
('Алексей Смирнов', 'alexey.smirnov@beep.com', '+7 (900) 111-0002', 'Электрик', 4.9, '', 55.7540, 37.6200, 'Москва, ул. Арбат, 25', NOW(), NOW()),
('Дмитрий Кузнецов', 'dmitry.kuznetsov@beep.com', '+7 (900) 111-0003', 'Диагност', 4.7, '', 55.7530, 37.6185, 'Москва, ул. Ленина, 5', NOW(), NOW()),
('Сергей Волков', 'sergey.volkov@beep.com', '+7 (900) 111-0004', 'Маляр, Кузовные работы', 4.6, '', 55.7520, 37.6190, 'Москва, пр. Мира, 15', NOW(), NOW()),
('Анна Козлова', 'anna.kozlova@beep.com', '+7 (900) 111-0005', 'Диагностика, ТО', 4.9, '', 55.7510, 37.6205, 'Москва, ул. Садовая, 20', NOW(), NOW()),
('Михаил Морозов', 'mikhail.morozov@beep.com', '+7 (900) 111-0006', 'Ремонт двигателя', 4.8, '', 55.7500, 37.6210, 'Москва, ул. Пушкина, 30', NOW(), NOW()),
('Елена Новикова', 'elena.novikova@beep.com', '+7 (900) 111-0007', 'Шиномонтаж', 4.7, '', 55.7490, 37.6215, 'Москва, ул. Гагарина, 40', NOW(), NOW()),
('Владимир Федоров', 'vladimir.fedorov@beep.com', '+7 (900) 111-0008', 'Подвеска, Тормоза', 4.8, '', 55.7480, 37.6220, 'Москва, ул. Ломоносова, 50', NOW(), NOW()),
('Татьяна Соколова', 'tatyana.sokolova@beep.com', '+7 (900) 111-0009', 'Мойка, Детализация', 4.9, '', 55.7470, 37.6225, 'Москва, ул. Чехова, 60', NOW(), NOW()),
('Андрей Лебедев', 'andrey.lebedev@beep.com', '+7 (900) 111-0010', 'Тюнинг, Обвесы', 4.6, '', 55.7460, 37.6230, 'Москва, ул. Достоевского, 70', NOW(), NOW()),
('Ольга Орлова', 'olga.orlova@beep.com', '+7 (900) 111-0011', 'Электрика, Сигнализация', 4.7, '', 55.7450, 37.6235, 'Москва, ул. Тургенева, 80', NOW(), NOW()),
('Николай Зайцев', 'nikolay.zaytsev@beep.com', '+7 (900) 111-0012', 'Кузовные работы', 4.8, '', 55.7440, 37.6240, 'Москва, ул. Толстого, 90', NOW(), NOW())
ON CONFLICT (email) DO NOTHING;

-- =============================================
-- РАСПИСАНИЕ МАСТЕРОВ
-- =============================================
-- Добавляем расписание для каждого мастера (Пн-Пт с 8:00 до 18:00)
INSERT INTO master_schedule (master_id, day_of_week, start_time, end_time, is_active, created_at) 
SELECT m.id, d.day, '08:00', '18:00', true, NOW()
FROM masters m
CROSS JOIN (
    SELECT 0 AS day UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4
) d;

-- Добавляем субботу (9:00-15:00) для первых 6 мастеров
INSERT INTO master_schedule (master_id, day_of_week, start_time, end_time, is_active, created_at)
SELECT id, 5, '09:00', '15:00', true, NOW()
FROM masters
WHERE id <= 6;

-- =============================================
-- ПРАВИЛА ЦЕНООБРАЗОВАНИЯ
-- =============================================
INSERT INTO pricing_rules (service_id, car_type, car_age_min, car_age_max, multiplier, fixed_addition, created_at) VALUES
-- Премиум автомобили дороже
(1, 'Premium', 0, 5, 1.5, 0, NOW()),
(1, 'Premium', 6, 10, 1.3, 0, NOW()),
(1, 'Luxury', 0, 5, 2.0, 0, NOW()),

-- Старые автомобили дороже
(2, 'Standard', 10, 20, 1.2, 500, NOW()),
(2, 'Premium', 10, 20, 1.4, 1000, NOW()),

-- Электрика для премиум машин дороже
(17, 'Premium', 0, 10, 1.5, 0, NOW()),
(17, 'Luxury', 0, 10, 2.0, 0, NOW()),

-- Кузовные работы для премиум машин
(25, 'Premium', 0, 10, 1.8, 0, NOW()),
(25, 'Luxury', 0, 10, 2.5, 0, NOW())
ON CONFLICT DO NOTHING;

-- =============================================
-- ТЕСТОВЫЕ ЗАПИСИ НА ПРИЕМ
-- =============================================
INSERT INTO appointments (user_id, master_id, service_id, date, time, status, comment, created_at, updated_at) VALUES
(1, 1, 1, '2024-11-01', '10:00', 'confirmed', 'Замена масла в Toyota Camry', NOW(), NOW()),
(2, 2, 17, '2024-11-02', '14:00', 'pending', 'Ремонт генератора', NOW(), NOW()),
(3, 3, 21, '2024-11-03', '09:00', 'confirmed', 'Диагностика двигателя', NOW(), NOW()),
(4, 4, 25, '2024-11-04', '11:00', 'pending', 'Покраска бампера', NOW(), NOW()),
(5, 5, 29, '2024-11-05', '15:00', 'confirmed', 'Детализация автомобиля', NOW(), NOW())
ON CONFLICT DO NOTHING;

-- =============================================
-- ТЕСТОВЫЕ ОТЗЫВЫ
-- =============================================
INSERT INTO reviews (master_id, user_id, rating, comment, created_at) VALUES
(1, 1, 5, 'Отличный мастер, быстро и качественно заменил масло!', NOW()),
(2, 2, 4, 'Хорошо работает с электрикой, рекомендую', NOW()),
(3, 3, 5, 'Профессиональная диагностика, все объяснил', NOW()),
(4, 4, 4, 'Качественная покраска, доволен результатом', NOW()),
(5, 5, 5, 'Супер детализация! Машина как новая', NOW()),
(1, 6, 4, 'Быстро и недорого', NOW()),
(2, 7, 5, 'Мастер своего дела', NOW()),
(3, 8, 4, 'Хорошая диагностика', NOW())
ON CONFLICT DO NOTHING;

-- =============================================
-- ЗОНЫ ЦЕНООБРАЗОВАНИЯ
-- =============================================
INSERT INTO price_zones (name, multiplier, created_at) VALUES
('Центр Москвы', 1.5, NOW()),
('САО', 1.2, NOW()),
('СВАО', 1.1, NOW()),
('ВАО', 1.0, NOW()),
('ЮВАО', 1.0, NOW()),
('ЮАО', 1.0, NOW()),
('ЮЗАО', 1.1, NOW()),
('ЗАО', 1.2, NOW()),
('СЗАО', 1.1, NOW()),
('МО (ближнее)', 0.8, NOW())
ON CONFLICT DO NOTHING;

-- =============================================
-- ИНФОРМАЦИЯ О ТЕСТОВЫХ ДАННЫХ
-- =============================================
/*
СОЗДАНО ТЕСТОВЫХ ДАННЫХ:
- 10 пользователей (пароль для всех: "password")
- 10 категорий услуг
- 30+ видов автомобилей
- 40+ услуг по всем категориям
- 12 мастеров с разными специализациями
- Расписание работы мастеров
- Правила ценообразования
- Тестовые записи на прием
- Отзывы о мастерах
- Зоны ценообразования

ДЛЯ ТЕСТИРОВАНИЯ:
1. Запустите приложение: go run cmd/main.go
2. Откройте http://localhost:8080
3. Используйте тестовые данные для входа и записи

ТЕСТОВЫЕ ПОЛЬЗОВАТЕЛИ:
- alex.ivanov@test.com / password
- maria.petrova@test.com / password
- dmitry.sidorov@test.com / password
- и т.д.

ТЕСТОВЫЕ МАСТЕРА:
- Иван Петров (ТО)
- Алексей Смирнов (Электрика)
- Дмитрий Кузнецов (Диагностика)
- и т.д.
*/

